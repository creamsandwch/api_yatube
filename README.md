# api_yatube
Учебный проект с API для всех моделей приложения.
Вся логика реализована в новом приложении ```api```.
API доступен только аутентифицированным пользователям по токену TokenAuthentication.
Аутентифицированный пользователь авторизован на изменение и удаление своего контента; в остальных случаях доступ предоставляется только для чтения.
Для взаимодействия с ресурсами опишите и настройте такие эндпоинты:
```sh 
api/v1/api-token-auth/ (POST): передаём логин и пароль, получаем токен.
```
```sh
api/v1/posts/ (GET, POST): получаем список всех постов или создаём новый пост.
```
```sh
api/v1/posts/{post_id}/ (GET, PUT, PATCH, DELETE): получаем, редактируем или удаляем пост по id.
```
```sh
api/v1/groups/ (GET): получаем список всех групп.
```
```sh
api/v1/groups/{group_id}/ (GET): получаем информацию о группе по id.
```
```sh
api/v1/posts/{post_id}/comments/ (GET, POST): получаем список всех комментариев поста с id=post_id или создаём новый, указав id поста, который хотим прокомментировать.
```
```
sh api/v1/posts/{post_id}/comments/{comment_id}/ (GET, PUT, PATCH, DELETE): получаем, редактируем или удаляем комментарий по id у поста с id=post_id.
```
В ответ на запросы `POST`, `PUT` и `PATCH` API возвращает объект, который был добавлен или изменён.
Если вы решите, что вьюсеты подойдут и для работы с остальными моделями — не стесняйтесь, применяйте их везде, где можно.
### Примеры запросов:
```POST .../api/v1/posts/```
``` sh
{
    "text": "Вечером собрались в редакции «Русской мысли», чтобы поговорить о народном театре. Проект Шехтеля всем нравится.",
    "group": 1
} 
```
Пример ответа:
```sh
{
    "id": 14,
    "text": "Вечером собрались в редакции «Русской мысли», чтобы поговорить о народном театре. Проект Шехтеля всем нравится.",
    "author": "anton",
    "image": null,
    "group": 1,
    "pub_date": "2021-06-01T08:47:11.084589Z"
}
```
Пример `POST`-запроса с токеном Антона Чехова: отправляем новый комментарий к посту с `id=14`.
`POST .../api/v1/posts/14/comments/`
```sh 
{
    "text": "тест тест"
}
```
Пример ответа:
``` sh 
{
    "id": 4,
    "author": "anton",
    "post": 14,
    "text": "тест тест",
    "created": "2021-06-01T10:14:51.388932Z"
}
```
Пример GET-запроса с токеном Антона Чехова: получаем информацию о группе.
```GET .../api/v1/groups/2/```
Пример ответа:
``` sh 
{
    "id": 2,
    "title": "Математика",
    "slug": "math",
    "description": "Посты на тему математики"
}
```
#### Запуск проекта в dev-режиме 
- Установите и активируйте виртуальное окружение: ```python -m venv venv```
- Установите зависимости из файла requirements.txt: ``` pip install -r requirements.txt ``` 
- Создайте миграции и мигрируйте их в БД: ```python manage.py makemigrations```, ```python manage.py migrate```
- Запустите сервер, выполнив в папке с файлом manage.py команду: ``` python manage.py runserver ``` 

##### Финальная версия проекта yatube API: https://github.com/creamsandwch/api_final_yatube
